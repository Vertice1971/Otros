<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Jos√©, el hijo de Jacob üìñ‚úùÔ∏è</title>
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      background: linear-gradient(135deg, #ffcc33, #ff6600);
      margin: 0;
    }
    .trivia-container, .mensaje-felicidades {
      background-color: #fff;
      padding: 25px;
      border-radius: 15px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      text-align: center;
      width: 90%;
      max-width: 450px;
      border: 4px double #ff6600;
      position: relative;
    }
    /* Iconos actualizados para tema b√≠blico */
    .trivia-container::before, .mensaje-felicidades::before {
      content: "üìñ";
      position: absolute;
      top: -15px;
      left: -15px;
      font-size: 30px;
    }
    .trivia-container::after, .mensaje-felicidades::after {
      content: "‚úùÔ∏è";
      position: absolute;
      bottom: -15px;
      right: -15px;
      font-size: 30px;
    }
    h1 {
      font-size: 26px;
      margin-bottom: 15px;
      color: #ff6600;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }
    p {
      font-size: 18px;
      margin-bottom: 20px;
      color: #333;
    }
    .btn {
      display: block;
      width: 100%;
      padding: 15px;
      margin: 10px 0;
      font-size: 16px;
      cursor: pointer;
      border: none;
      border-radius: 8px;
      color: #fff;
      transition: transform 0.2s ease, background-color 0.3s ease;
    }
    #respuesta1 { background-color: #007bff; }
    #respuesta2 { background-color: #ff9800; }
    #respuesta3 { background-color: #9c27b0; }
    .btn:hover {
      filter: brightness(85%);
      transform: scale(1.05);
    }
    .btn.incorrect {
      background-color: #ff4444;
      animation: shake 0.5s;
    }
    .btn.correct {
      background-color: #00cc66 !important;
    }
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-5px); }
      50% { transform: translateX(5px); }
      75% { transform: translateX(-5px); }
    }
    .temporizador {
      font-size: 22px;
      font-weight: bold;
      color: #ff6600;
      background: #fff3cd;
      padding: 5px 10px;
      border-radius: 8px;
      display: inline-block;
      margin-bottom: 15px;
    }
    .mensaje-felicidades {
      display: none;
    }
    .mensaje-felicidades h2 {
      font-size: 30px;
      color: #00cc66;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }
    .mensaje-felicidades p {
      font-size: 20px;
      margin-bottom: 15px;
    }
    .mensaje-felicidades .tiempo {
      font-size: 24px;
      font-weight: bold;
      color: #007bff;
    }
    .btn-restart {
      background-color: #007bff;
      padding: 15px;
      border-radius: 8px;
    }
  </style>
</head>
<body>

<div class="trivia-container" id="triviaContainer">
  <h1>üìñ Jos√©, el hijo de Jacob ‚úùÔ∏è</h1>
  <div class="temporizador" id="temporizador">00:00</div>
  <p id="pregunta"></p>
  <button id="respuesta1" class="btn respuesta-btn"></button>
  <button id="respuesta2" class="btn respuesta-btn"></button>
  <button id="respuesta3" class="btn respuesta-btn"></button>
</div>

<div class="mensaje-felicidades" id="mensajeFelicidades">
  <h2>‚úùÔ∏è ¬°¬°¬°Enhorabuena!!! üìñ</h2>
  <p>Es dif√≠cil saber m√°s cosas que t√∫...</p>
  <p>Tiempo total: <span class="tiempo" id="tiempoFinal"></span></p>
  <button class="btn btn-restart" onclick="reloadGame()">Volver a jugar</button>
</div>

<script>
  function reloadGame() {
    window.location.reload();
  }

  // Array completo de preguntas basadas en eventos b√≠blicos
  const preguntasCompletas = [
    { 
      pregunta: "¬øQu√© mostr√≥ Jos√© mientras trabajaba en Egipto?", 
      correcta: "Integridad y sabidur√≠a", 
      opciones: ["Ambici√≥n y orgullo", "Integridad y sabidur√≠a", "Fuerza y valor"] 
    },
    { 
      pregunta: "¬øC√≥mo salv√≥ Egipto de la hambruna Jos√©?", 
      correcta: "Administrando sabiamente los recursos", 
      opciones: ["Construyendo barcos", "Organizando fiestas", "Administrando sabiamente los recursos"] 
    },
    { 
      pregunta: "¬øPor qu√© llegaron los hermanos de Jos√© a Egipto?", 
      correcta: "Para buscar alimento por la hambruna", 
      opciones: ["Para visitar a Jos√©", "Para buscar alimento por la hambruna", "Por turismo"] 
    },
    { 
      pregunta: "¬øQu√© hizo Jos√© con sus hermanos en lugar de vengarse?", 
      correcta: "Los perdon√≥ y les dio alimento", 
      opciones: ["Los castig√≥", "Los ignor√≥", "Los perdon√≥ y les dio alimento"] 
    },
    { 
      pregunta: "¬øQu√© permiti√≥ el Fara√≥n a Jacob y su familia en Egipto?", 
      correcta: "Que se establecieran en Egipto", 
      opciones: ["Que viajaran por el desierto", "Que se establecieran en Egipto", "Que se mudaran a otra tierra"] 
    },
    { 
      pregunta: "¬øD√≥nde prosper√≥ la familia de Jacob en Egipto?", 
      correcta: "En la regi√≥n de Gos√©n", 
      opciones: ["En el Nilo", "En la regi√≥n de Gos√©n", "En el palacio del Fara√≥n"] 
    },
    { 
      pregunta: "¬øQu√© habilidad mostr√≥ Jos√© en la prisi√≥n?", 
      correcta: "Interpretar sue√±os", 
      opciones: ["Cantar canciones", "Cocinar pan", "Interpretar sue√±os"] 
    },
    { 
      pregunta: "Seg√∫n la predicci√≥n de Jos√©, ¬øqu√© pas√≥ con el copero y el panadero?", 
      correcta: "El copero fue restaurado y el panadero fue ejecutado", 
      opciones: ["Ambos fueron liberados", "Ambos fueron ejecutados", "El copero fue restaurado y el panadero fue ejecutado"] 
    },
    { 
      pregunta: "¬øQui√©n record√≥ a Jos√© al Fara√≥n al tener sue√±os inquietantes?", 
      correcta: "El copero", 
      opciones: ["El panadero", "El copero", "Un esclavo"] 
    },
    { 
      pregunta: "¬øQu√© interpret√≥ Jos√© en el sue√±o del Fara√≥n sobre vacas gordas y flacas?", 
      correcta: "A√±os de abundancia y a√±os de hambre", 
      opciones: ["El fin del mundo", "Una invasi√≥n", "A√±os de abundancia y a√±os de hambre"] 
    },
    { 
      pregunta: "¬øQu√© cargo recibi√≥ Jos√© por su sabidur√≠a?", 
      correcta: "Gobernador de Egipto", 
      opciones: ["Consejero", "General del ej√©rcito", "Gobernador de Egipto"] 
    },
    { 
      pregunta: "¬øQu√© sent√≠a Jacob en Cana√°n por su hijo Jos√©?", 
      correcta: "Lamentaba su p√©rdida", 
      opciones: ["Lo celebraba", "Lamentaba su p√©rdida", "Lo hab√≠a olvidado"] 
    },
    { 
      pregunta: "¬øQu√© hicieron los hermanos de Jos√© al viajar a Egipto?", 
      correcta: "Compraron trigo sin reconocer a Jos√©", 
      opciones: ["Compraron trigo sin reconocer a Jos√©", "Lo buscaron para abrazarlo", "Se quedaron en Cana√°n"] 
    },
    { 
      pregunta: "¬øC√≥mo comprob√≥ Jos√© si sus hermanos hab√≠an cambiado?", 
      correcta: "Los puso a prueba", 
      opciones: ["Los ignor√≥", "Los puso a prueba", "Les regal√≥ dinero"] 
    },
    { 
      pregunta: "¬øQu√© pidi√≥ Jos√© como parte de la prueba a sus hermanos?", 
      correcta: "Traer a Benjam√≠n", 
      opciones: ["Traer a Rub√©n", "Traer a Benjam√≠n", "Traer a un esclavo"] 
    },
    { 
      pregunta: "¬øQu√© hicieron los hermanos de Jos√© respecto a Benjam√≠n?", 
      correcta: "Convencieron a Jacob de llevar a Benjam√≠n", 
      opciones: ["Lo dejaron en Egipto", "Ignoraron a Benjam√≠n", "Convencieron a Jacob de llevar a Benjam√≠n"] 
    },
    { 
      pregunta: "¬øQu√© hizo Jos√© con su copa en el saco de Benjam√≠n?", 
      correcta: "La escondi√≥ y acus√≥ de robo", 
      opciones: ["La regal√≥", "La escondi√≥ y acus√≥ de robo", "La perdi√≥"] 
    },
    { 
      pregunta: "¬øQu√© hizo Jud√° para proteger a su padre Jacob?", 
      correcta: "Se ofreci√≥ como esclavo en lugar de Benjam√≠n", 
      opciones: ["Huy√≥ del pa√≠s", "No hizo nada", "Se ofreci√≥ como esclavo en lugar de Benjam√≠n"] 
    },
    { 
      pregunta: "¬øQu√© revel√≥ Jos√© a sus hermanos al final de la prueba?", 
      correcta: "Que Dios hab√≠a usado todo para bien", 
      opciones: ["Que era un esp√≠a", "Que estaban en problemas", "Que Dios hab√≠a usado todo para bien"] 
    },
    { 
      pregunta: "¬øQu√© orden√≥ Jos√© a sus hermanos respecto a Jacob?", 
      correcta: "Que trajeran a Jacob y su familia a Egipto", 
      opciones: ["Que dejaran a Jacob en Cana√°n", "Que olvidaran a Jacob", "Que trajeran a Jacob y su familia a Egipto"] 
    },
    { 
      pregunta: "¬øC√≥mo se sintieron Jacob y Jos√© al reencontrarse en Egipto?", 
      correcta: "Con emoci√≥n", 
      opciones: ["Con enfado", "Con indiferencia", "Con emoci√≥n"] 
    },
    { 
      pregunta: "¬øQu√© hizo Jacob antes de morir?", 
      correcta: "Bendijo a sus hijos y predijo su futuro", 
      opciones: ["Olvid√≥ a su familia", "Les regal√≥ tierras", "Bendijo a sus hijos y predijo su futuro"] 
    },
    { 
      pregunta: "¬øQu√© jur√≥ Jos√© a su familia antes de morir?", 
      correcta: "Llevar sus huesos a la Tierra Prometida", 
      opciones: ["Quedarse en Egipto", "Olvidar sus or√≠genes", "Llevar sus huesos a la Tierra Prometida"] 
    },
    { 
      pregunta: "¬øQu√© ocurri√≥ con Jos√© al final de su vida?", 
      correcta: "Muri√≥ en Egipto y su historia continu√≥ con el pueblo hebreo", 
      opciones: ["Su historia termin√≥", "Se olvid√≥ de √©l", "Muri√≥ en Egipto y su historia continu√≥ con el pueblo hebreo"] 
    },
    { 
      pregunta: "¬øQu√© hizo el nuevo Fara√≥n que no recordaba a Jos√©?", 
      correcta: "Esclaviz√≥ a los hebreos", 
      opciones: ["Los liber√≥", "Los ayud√≥", "Esclaviz√≥ a los hebreos"] 
    },
    { 
      pregunta: "¬øC√≥mo viv√≠an los hebreos en Egipto cuando se recordaba a Jos√©?", 
      correcta: "En paz", 
      opciones: ["En guerra", "Con miedo", "En paz"] 
    },
    { 
      pregunta: "¬øQu√© caracterizaba al nuevo Fara√≥n que subi√≥ al poder?", 
      correcta: "No conoc√≠a la historia de Jos√©", 
      opciones: ["Era muy sabio", "Era amigo de los hebreos", "No conoc√≠a la historia de Jos√©"] 
    },
    { 
      pregunta: "¬øC√≥mo ve√≠a el nuevo Fara√≥n a los hebreos?", 
      correcta: "Como extranjeros con creencias distintas", 
      opciones: ["Como ciudadanos", "Como hermanos", "Como extranjeros con creencias distintas"] 
    },
    { 
      pregunta: "¬øQu√© hicieron los egipcios con los hebreos?", 
      correcta: "Los convirtieron en esclavos y les obligaron a construir ciudades", 
      opciones: ["Los hicieron reyes", "Los liberaron", "Los convirtieron en esclavos y les obligaron a construir ciudades"] 
    },
    { 
      pregunta: "¬øQu√© orden√≥ el Fara√≥n respecto a los varones hebreos reci√©n nacidos?", 
      correcta: "Que fueran arrojados al Nilo", 
      opciones: ["Que fueran protegidos", "Que fueran educados", "Que fueran arrojados al Nilo"] 
    },
    { 
      pregunta: "¬øQu√© hizo Jocabed con Mois√©s cuando era beb√©?", 
      correcta: "Lo escondi√≥ y lo puso en una canasta en el Nilo", 
      opciones: ["Lo regal√≥", "Lo escondi√≥ y lo puso en una canasta en el Nilo", "Lo dej√≥ en la puerta del palacio"] 
    },
    { 
      pregunta: "¬øQu√© hizo la hija del Fara√≥n al encontrar la canasta con Mois√©s?", 
      correcta: "Adopt√≥ a Mois√©s", 
      opciones: ["La rompi√≥", "La ignor√≥", "Adopt√≥ a Mois√©s"] 
    },
    { 
      pregunta: "¬øQu√© hizo Mois√©s cuando la princesa lo tom√≥ en brazos?", 
      correcta: "Comenz√≥ a llorar", 
      opciones: ["Se ri√≥", "Sonri√≥", "Comenz√≥ a llorar"] 
    },
    { 
      pregunta: "¬øQu√© hizo Miriam con la canasta en la que estaba Mois√©s?", 
      correcta: "La vigil√≥ y habl√≥ con la princesa", 
      opciones: ["La escondi√≥", "La tir√≥ al Nilo", "La vigil√≥ y habl√≥ con la princesa"] 
    },
    { 
      pregunta: "¬øQu√© sugiri√≥ Miriam para cuidar a Mois√©s?", 
      correcta: "Que una nodriza hebrea lo criara", 
      opciones: ["Que se mudara al palacio", "Que Mois√©s fuera enviado a la escuela", "Que una nodriza hebrea lo criara"] 
    },
    { 
      pregunta: "¬øQui√©n fue elegida para cuidar a Mois√©s y recibi√≥ un pago por ello?", 
      correcta: "Jocabed, su madre", 
      opciones: ["Miriam", "La hija del Fara√≥n", "Jocabed, su madre"] 
    },
    { 
      pregunta: "¬øQu√© papel tuvo el Nilo en la historia de Mois√©s?", 
      correcta: "Fue clave para su rescate y en las plagas de Egipto", 
      opciones: ["Fue un r√≠o tranquilo", "Fue olvidado", "Fue clave para su rescate y en las plagas de Egipto"] 
    },
    { 
      pregunta: "¬øQu√© se dice de Aar√≥n, el hermano de Mois√©s?", 
      correcta: "Naci√≥ antes del edicto y no fue afectado", 
      opciones: ["Naci√≥ despu√©s y fue afectado", "No se menciona su nacimiento", "Naci√≥ antes del edicto y no fue afectado"] 
    },
    { 
      pregunta: "¬øQu√© orden√≥ Dios a Abraham en G√©nesis 12:1-9?", 
      correcta: "Salir de Ur y dirigirse a Cana√°n", 
      opciones: ["Quedarse en Ur", "Construir un templo", "Salir de Ur y dirigirse a Cana√°n"] 
    },
    { 
      pregunta: "¬øQu√© prometi√≥ Dios a Abraham acerca de su descendencia en G√©nesis 15:5?", 
      correcta: "Que ser√≠a tan numerosa como las estrellas del cielo", 
      opciones: ["Que ser√≠a peque√±a", "Que ser√≠a famosa", "Que ser√≠a tan numerosa como las estrellas del cielo"] 
    },
    { 
      pregunta: "¬øQu√© acontecimiento cumpli√≥ la promesa de Dios a Abraham y Sara?", 
      correcta: "El nacimiento de Isaac", 
      opciones: ["El nacimiento de Jacob", "El nacimiento de Isaac", "El viaje a Cana√°n"] 
    },
    { 
      pregunta: "¬øQu√© so√±√≥ Jacob en G√©nesis 28?", 
      correcta: "Una escalera que llega al cielo", 
      opciones: ["Una gran torre", "Un valle profundo", "Una escalera que llega al cielo"] 
    },
    { 
      pregunta: "¬øQu√© cambio hizo Dios en Jacob despu√©s de luchar con un √°ngel?", 
      correcta: "Lo llam√≥ Israel", 
      opciones: ["Lo llam√≥ Jos√©", "Lo llam√≥ Mois√©s", "Lo llam√≥ Israel"] 
    },
    { 
      pregunta: "¬øQu√© hicieron los hermanos de Jos√© en G√©nesis 37 antes de venderlo?", 
      correcta: "Lo arrojaron a un pozo", 
      opciones: ["Lo abrazaron", "Lo invitaron a cenar", "Lo arrojaron a un pozo"] 
    }
  ];

  // Mezclar todas las preguntas y seleccionar 7 al azar
  preguntasCompletas.sort(() => 0.5 - Math.random());
  const preguntasSeleccionadas = preguntasCompletas.slice(0, 7);
  preguntasSeleccionadas.forEach(p => p.opciones.sort(() => 0.5 - Math.random()));

  let indicePregunta = 0;
  let tiempoInicio = Date.now();
  let intervalo = setInterval(actualizarTemporizador, 1000);

  // Crear el contexto de audio
  const audioCtx = new (window.AudioContext || window.webkitAudioContext)();

  // Funci√≥n para generar un sonido con fundido suave
  function playBeep(frequency, duration, type = 'sine', fadeTime = 0.1) {
    const osc = audioCtx.createOscillator();
    const gainNode = audioCtx.createGain();
    
    osc.frequency.value = frequency;
    osc.type = type;
    
    // Comienza con volumen 0 y aumenta gradualmente
    gainNode.gain.setValueAtTime(0, audioCtx.currentTime);
    gainNode.gain.linearRampToValueAtTime(0.5, audioCtx.currentTime + fadeTime);
    gainNode.gain.linearRampToValueAtTime(0, audioCtx.currentTime + duration/1000 - fadeTime);
    
    osc.connect(gainNode);
    gainNode.connect(audioCtx.destination);
    
    osc.start();
    setTimeout(() => osc.stop(), duration);
  }

  // Funci√≥n para generar pitido de error (m√°s suave, con frecuencia reducida)
  function emitirPitido() {
    if (audioCtx.state === 'suspended') 
      audioCtx.resume().then(() => playBeep(500, 300, 'sine', 0.2));
    else 
      playBeep(500, 300, 'sine', 0.2);
  }

  // Funci√≥n para generar el sonido de campanillas angelicales
  function playChime(frequencies, duration, type = 'triangle', fadeTime = 0.2) {
    const osc1 = audioCtx.createOscillator();
    const osc2 = audioCtx.createOscillator();
    const gainNode = audioCtx.createGain();
    
    osc1.frequency.value = frequencies[0];
    osc2.frequency.value = frequencies[1];
    osc1.type = type;
    osc2.type = type;
    
    gainNode.gain.setValueAtTime(0, audioCtx.currentTime);
    gainNode.gain.linearRampToValueAtTime(0.5, audioCtx.currentTime + fadeTime);
    gainNode.gain.linearRampToValueAtTime(0, audioCtx.currentTime + duration/1000 - fadeTime);
    
    osc1.connect(gainNode);
    osc2.connect(gainNode);
    gainNode.connect(audioCtx.destination);
    
    osc1.start();
    osc2.start();
    
    setTimeout(() => {
      osc1.stop();
      osc2.stop();
    }, duration);
  }
  
  // Funci√≥n para el pitido de acierto con campanillas angelicales
  function emitirPitidoDulce() {
    if (audioCtx.state === 'suspended') 
      audioCtx.resume().then(() => playChime([800, 1200], 800, 'triangle', 0.3));
    else 
      playChime([800, 1200], 800, 'triangle', 0.3);
  }
  
  // Actualizar temporizador
  function actualizarTemporizador() {
    let tiempoPasado = Date.now() - tiempoInicio;
    let minutos = Math.floor(tiempoPasado / 60000);
    let segundos = Math.floor((tiempoPasado % 60000) / 1000);
    document.getElementById("temporizador").textContent =
      `${String(minutos).padStart(2, "0")}:${String(segundos).padStart(2, "0")}`;
  }
  
  // Mostrar la pregunta actual y asignar eventos a los botones
  function mostrarPregunta() {
    if (indicePregunta >= preguntasSeleccionadas.length) {
      clearInterval(intervalo);
      document.getElementById("triviaContainer").style.display = "none";
      document.getElementById("mensajeFelicidades").style.display = "block";
      document.getElementById("tiempoFinal").textContent = document.getElementById("temporizador").textContent;
      return;
    }
  
    let preguntaActual = preguntasSeleccionadas[indicePregunta];
    document.getElementById("pregunta").textContent = preguntaActual.pregunta;
    document.getElementById("respuesta1").textContent = preguntaActual.opciones[0];
    document.getElementById("respuesta2").textContent = preguntaActual.opciones[1];
    document.getElementById("respuesta3").textContent = preguntaActual.opciones[2];
  
    document.querySelectorAll(".respuesta-btn").forEach(boton => {
      boton.classList.remove("correct", "incorrect");
      boton.onclick = () => {
        if (boton.textContent === preguntaActual.correcta) {
          boton.classList.add("correct");
          emitirPitidoDulce();
          setTimeout(() => { 
            indicePregunta++; 
            mostrarPregunta(); 
          }, 500);
        } else {
          boton.classList.add("incorrect");
          emitirPitido();
          setTimeout(() => boton.classList.remove("incorrect"), 500);
        }
      };
    });
  }
  
  mostrarPregunta();
</script>

</body>
</html>
